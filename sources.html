<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"><title  id="page-title">STaTbS21D - Book of the Dead Sources</title><meta name="description" content="Synoptic Edition of Book of the Dead Spell Sources from the 21st Dynasty (STaTbS21D) is a Digital Humanities project on Egyptology, provides edited and digitalized Book of the Dead spell sources from the end of the New Kingdom and the beginning of the Third Intermediate Period (particularly the 21st Dynasty) for the Egyptological community and the general public.">

<meta property="og:title" content="STaTbS21D - Synoptic Edition of Book of the Dead Spell Sources from the 21st Dynasty" />
<meta property="og:type" content="website" />
<meta property="og:icon" content="assets/img/statbs21d.svg" />
<meta property="og:image" content="assets/img/site.jpg" />
<meta property="og:image:width" content="1067">
<meta property="og:image:height" content="600">
<meta property="og:description" content="Synoptic Edition of Book of the Dead Spell Sources from the 21st Dynasty (STaTbS21D) is a Digital Humanities project on Egyptology, provides edited and digitalized Book of the Dead spell sources from the end of the New Kingdom and the beginning of the Third Intermediate Period (particularly the 21st Dynasty) for the Egyptological community and the general public." />
<link rel="prefetch" href="nav.html"><link rel="prefetch" href="footer.html">
<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,700,700i,600,600i&amp;display=swap"><link rel="stylesheet" href="assets/fonts/simple-line-icons.min.css"><link rel="stylesheet" href="assets/fonts/font-awesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.css">
<link  id="page-css" rel="stylesheet" href="assets/css/styles.min.css"><script src="assets/js/jquery-3.6.3.js?h=84e399b8f2181ccd73394fdeddff1638"></script>
<script src="assets/js/crypto-js.min.js"></script>
<style>
@font-face {
  font-family: 'statbs21d';
  src:  url('assets/fonts/statbs21d.eot?enjm2s');
  src:  url('assets/fonts/statbs21d.eot?enjm2s#iefix') format('embedded-opentype'),
    url('assets/fonts/statbs21d.ttf?enjm2s') format('truetype'),
    url('assets/fonts/statbs21d.woff?enjm2s') format('woff'),
    url('assets/fonts/statbs21d.svg?enjm2s#statbs21d') format('svg');
  font-weight: bolder;
  font-style: normal;
  font-display: block;
}

[class^="icon-"], [class*=" icon-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  font-family: 'statbs21d';
  speak: never;
  font-style: normal;
  font-weight: 900;
  font-size: 25px;
  font-variant: normal;
  text-transform: none;
  line-height: 1;

  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.statbs21d.icon-Info:before {
  content: "\e90b";
}
.statbs21d.icon-Female:before {
  content: "\e909";
}
.statbs21d.icon-Male:before {
  content: "\e90a";
}
.statbs21d.icon-Owner:before {
  content: "\e900";
}
.statbs21d.icon-Family:before {
  content: "\e901";
}
.statbs21d.icon-Source:before {
  content: "\e902";
}
.statbs21d.icon-Script:before {
  content: "\e903";
}
.statbs21d.icon-Vignettes:before {
  content: "\e904";
}
.statbs21d.icon-Sequence:before {
  content: "\e905";
}
.statbs21d.icon-Origin:before {
  content: "\e906";
}
.statbs21d.icon-Dating:before {
  content: "\e907";
}
.statbs21d.icon-Location:before {
  content: "\e908";
}
</style>
</head>

<body>

<script>
window.onload = function() {
document.getElementById("loader").style.display = "none";
document.getElementById("content").style.display = "block";
};

$(document).ready(function() {
  if(window.location.hash) {
    var target = $(window.location.hash);
    if(target.length) {
      $('html, body').animate({
        scrollTop: target.offset().top
      }, 1000);
    }
  }
});
</script>

<div id="loader" style="position: fixed;top: 50%;left: 0;width: 100%;height: 100%;background-color: #fff;z-index: 9999;"><img src="assets/img/loading.gif" alt="Loading..." style="display: block;margin: auto;">
<p style="text-align: center;">Loading...</p></div>

<div id="content" style="display:none;">

<nav id="nav-bar" class="navbar navbar-light navbar-expand-lg sticky-top bg-white clean-navbar" style="position: relative;overflow: visible;display: inline;">
</nav>

<main class="page sources">

<section class="clean-block clean-testimonials dark">
<div class="container">
	<div class="block-heading">
		<h2 class="text-info">Book of the Dead Sources</h2>
	</div>
	
<!--div class="row"-->
<div class="block-content">	
<div class="faq-item">
    <h4>Sources Eligibility</h4>
    <div class="answer">
        <p>The process of selection of the sources is aided by the <em>Totenbuch Projekt</em> database. For the moment, only sources on papyrus from the Theban area (like papyrus Havana) are included, whether from the 21<sup>st</sup> Dynasty (to be incorporated in the synoptic edition) or the Ramesside Period (in order to trace the spell transmission). A source with more matches in the spell list should make the final selection to include in the synoptic edition, yet less represented sources could also contain valuable information on editorial practice, a fact that will be taken into account once all the material is successfully downloaded from the database and properly catalogued.</p>
		<p><a id="btn-toggle" role="button" class="btn btn-outline-dark btn-sm" data-toggle="collapsediv" data-target="#tb-table"><font id="hicon"><svg class="bi bi-x-square" xmlns="http://www.w3.org/2000/svg" height="1.5em" fill="currentColor" viewBox="0 0 16 16" style="transform: translateY(0.2px) ;transform-origin: top;"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></font>Sources <svg xmlns="http://www.w3.org/2000/svg" style="fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 5713.07 2092.53" width="2em" height="2em" fill="currentColor"><path d="M656.74 1562.38c124.59,-88.28 274.79,-157.8 380.25,-274.22 147.47,-162.81 135.47,-175.67 312.22,-307.76 112.31,267.82 61.24,334.55 293.23,560.25 326.48,317.62 954.12,282.06 1323.45,46.47 214.34,-136.72 209.37,-297.61 341.62,-484.06l982.92 449.05c-339.51,166.77 -1381.84,289.07 -1799.88,299.21 -694.6,16.86 -1179.71,-197.31 -1833.82,-288.94zm955.57 -689.41c439.98,-94.07 1031.76,-47.35 1445.12,137.37 -95,670.34 -1375.23,800.73 -1445.12,-137.37zm-1572.02 925.02c155.59,68.85 558.16,-2.11 788.78,14.83 306.26,22.51 394.78,80.42 667.88,156.6 900.33,251.13 1930.23,76.34 2829.38,-152.59 838.33,-213.44 1145.6,142.65 1386.75,-70.49l-13.21 -125.31c-168.59,-106.42 -604.46,-109.78 -830.02,-158.06 -524.72,-112.3 -1380.73,-604.83 -2083,-784.73 -1454.67,-372.62 -1619.78,207.57 -2103.48,609.87 -372.7,309.99 -821.19,135.53 -643.07,509.87z"/><path d="M48.7 1152.85c305.94,149.09 867.79,-538.4 1137.3,-708.96 1383.61,-875.63 4045.08,1149.26 4375.79,905.86 154.85,-231.33 -323.32,-297.27 -520.44,-375.63 -776.33,-308.57 -1252.45,-682.57 -2205.05,-875.1 -568.41,-114.88 -1224.73,-187.37 -1736.5,118.5 -202.08,120.78 -370.49,322.92 -548.51,476.9 -121.53,105.13 -570.39,282.86 -502.58,458.43z"/></svg></a></p>
    </div>
</div>

<div id="tb-table" class="in collapsediv table-responsive-md" style="margin-left:20%">
<table class="table table-striped" style="max-width: 70%">
 <thead>
 <tr style="height:2.25pt">
  <td width="50%" rowspan="2">
  <p><b><span>Source <span class="data-table dating-ram">RAM</span>  <span class="data-table dating-21d">21D</span></span></b></p>
  </td>
  <td width="50%" colspan="2">
  <p align="center"><span><b><span>Location</span></b></span></p>
  </td>
 </tr>
 <tr>
  <td width="25%">
  <p align="center"><span><b><span>Theban</span></b></span><b><span
  > <span
 >Area</span></span></b><b><span></span></b></p>
  </td>
  <td width="25%">
  <p align="center"><span><b><span
  >Egypt (Total)</span></b><b><span></span></b></p>
  </td>
 </tr>
</thead>
<tbody>
 <tr>
  <td>
  <p><span><span>Papyri</span></span></p>
  </td>
  <td>
  <p align="center"><span class="data-table dating-ram">41</span>  <span class="data-table dating-21d" style="background-color: #d8ebf9">161</span></p>
  </td>
  <td>
  <p align="center"><span class="data-table dating-ram">174</span>  <span class="data-table dating-21d">307</span></p>
  </td>
 </tr>
 <tr>
  <td>
  <p><span>Mummy
  bandages</span><span></span></p>
  </td>
  <td>
  <p align="center"><span class="data-table dating-ram">1</span>  <span class="data-table dating-21d">2</span></p>
  </td>
  <td>
  <p align="center"><span class="data-table dating-ram">3</span>  <span class="data-table dating-21d">2</span></p>
  </td>
 </tr>
 <tr>
  <td>
  <p><span>Coffins</span></p>
  </td>
  <td>
  <p align="center"><span class="data-table dating-ram">4</span>  <span class="data-table dating-21d">67</span></p>
  </td>
  <td>
  <p align="center"><span class="data-table dating-ram">5</span>  <span class="data-table dating-21d">98</span></p>
  </td>
 </tr>
 <tr>
  <td>
  <p><span>Tombs</span></p>
  </td>
  <td>
  <p align="center"><span class="data-table dating-ram">119</span>  <span class="data-table dating-21d">0</span></p>
  </td>
  <td>
  <p align="center"><span class="data-table dating-ram">130</span>  <span class="data-table dating-21d">0</span></p>
  </td>
 </tr>
 <tr>
  <td>
  <p><span><span>Other</span></span></p>
  </td>
  <td><p align="center"><span class="data-table dating-ram">11</span>  <span class="data-table dating-21d">0</span></p></td>
  <td>
  <p align="center"><span class="data-table dating-ram">54</span>  <span class="data-table dating-21d">7</span></p>
  </td>
 </tr>
 <tr>
  <td>
  <p><b><span>Total</span></b><span></span></p>
  </td>
  <td>
  <p align="center"><b><span class="data-table dating-ram">176</span>  <span class="data-table dating-21d">230</span></b></p>
  </td>
  <td>
  <p align="center"><b><span class="data-table dating-ram">366</span>  <span class="data-table dating-21d">414</span></b></p>
  </td>
 </tr>
</tbody>
</table>
<p>Source: <em>Totenbuch Projekt</em>.</p>
</div>

	<!--div class="block-content"-->	
	<div class="faq-item"><br>
	<h4>Available Sources</h4>
	<div class="answer">
        <p>The list of sources will be populated in the following list as soon as they are incorporated to <em>GitHub</em> repository.</p>
    </div>
		<div id="fileListBody" class="table-responsive-md">
			   <!-- Content will be dynamically generated here --><table><div align="center"><img src="assets/img/loading.gif" /></div></table>
		</div>	
	</div></div>
<!--/div--></div>

<div class="modal fade portfolio-modal" id="TbPModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="TbPmodalLabel">...</h5>
            </div>
            <div class="modal-body" id="TbPmodalBody">
               <div align="center"><img src="assets/img/loading.gif"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary closeModal" type="button" data-bs-dismiss="modal"><i class="fa fa-times icon"></i><span>&nbsp;Close</span></button>
            </div>
        </div>
    </div>
</div>

</section>

</main>

<script>
const completedPapyri = [134426, 134699, 134391];
  function markCompletedRows() {
  completedPapyri.forEach(id => {
                const row = $(`#row-${id}`);
                if (row.length) {
                    row.find('td:last').append('<div class="floating-mark" alt="Completed">Completed</div>');
                }
            });
  }

 $(document).ready(function () {
    
			var owner = 'STaTBS21D';
			var repo = 'Book_of_the_Dead_Sources';
			var token = 'U2FsdGVkX18RuJN5XTj898CCXpHsKmJu1CbYQQEHv/Xp0dK5lzFaVYJD8S+7c8+tPZraAcAIlnCYNsXwDh4e8zncRnWT3883LudltXWh6SKlZ+Jv3aB4t5gT/TLY3rj2+h3XNKUDB4Y+x2WACRYTiQ=='; 
			var password = 'senerpaitui';
			var decryptedBytes = CryptoJS.AES.decrypt(token, password);
			token = decryptedBytes.toString(CryptoJS.enc.Utf8);
			
			
			 
			var apiEndpoint = 'https://api.github.com/repos/' + owner + '/' + repo + '/git/trees/main?recursive=1';
			
			var headers = {
                    'Authorization': 'Bearer ' + token,
					 'X-GitHub-Api-Version': '2022-11-28'
                };

			
			$.ajax({
			  url: apiEndpoint,
			  //dataType: 'json',
			  headers: headers,
			  success: function(response) {
				
					var folderList = {};
					var rootSpell = {};
					var ind = '';

					$.each(response.tree, function(index, item) {
					  if (item.type === 'blob') {
						var path = item.path;

						if (path.includes('Unicode/')) {
						  var rootFolder = getRootFolder(path);
						  ind = rootFolder;

						  if (rootFolder) {
							var fileSeparator = rootFolder.indexOf(' - ');
							var TMnumber = rootFolder.substr(0, fileSeparator);
							TMnumber = TMnumber.substring(3);
							var papyrus = rootFolder.substr(fileSeparator + 2);
							papyrus = papyrus.slice(0, -3);
							var spell = getSpellFolder(path).substring(6);

							if (!folderList[TMnumber]) {
							  folderList[TMnumber] = papyrus;
							  rootSpell[TMnumber] = [];
							}

							rootSpell[TMnumber].push(spell);
						  }
						}
					  }
					});

					var table = '<table id="papyri" class="table table-striped">';
					var headerRow = '<thead><tr><th colspan="2" style="width: 55%">Book of the Dead Spell Source</th><th style="width: 45%">Available Spells</th></tr></thead><tbody>';
					table += headerRow;

					$.each(folderList, function(TMnumber, papyrus) {
					  var spells = rootSpell[TMnumber];
					  // Sort spells numerically
						spells.sort(function(a, b) {
							return parseInt(a) - parseInt(b);
						});
					  var dating = "";
					  var dateclass = "";

					  if (papyrus.endsWith('[Ramesside]')) {
						papyrus = papyrus.replace('[Ramesside]', '');
						dating = "Ramesside";
						dateclass = "dating-ram";
					  } else if (papyrus.endsWith('[Ramesside - 21D]')) {
						papyrus = papyrus.replace('[Ramesside - 21D]', '');
						dating = "Ramesside / 21<sup>st</sup> Dyn.";
						dateclass = "dating-ram21d";
					  } else {
						dating = "21<sup>st</sup> Dynasty";
						dateclass = "dating-21d";
					  }

					  var row = '<tr id="row-' + TMnumber + '" class="table-row"><td>' + papyrus + ' <a class="tbp-link" href="https://totenbuch.awk.nrw.de/objekt/tm' + TMnumber + '" target="_blank" alt="Totenbuch Projekt reference">[TbP]</a> <a class="tm-link" href="https://trismegistos.org/text/' + TMnumber + '" target="_blank" alt="Trismegistos reference">[TM]</a> <a class="ref-link" href="references.html?p=tags&tag=TM ' + TMnumber + '" target="_blank" alt="Bibliography">[Ref]</a><br><a class="btn btn-sm toggler ref-link" alt="Info" href="#TbPModal" data-bs-toggle="modal"><i class="statbs21d icon-Info icon" style="font-size:20px"></i></a></td><td><span class="data-table ' + dateclass + '">' + dating + '</span></td><td>';

					  // Construct rows for each spell
					  for (const spell of spells) {
						row += '<a class="btn btn-light" href="spells.html#sp' + spell + '">Spell ' + spell + '</a> ';
					  }

					  row += '</td></tr>';
					  table += row;
					});

					table += '</tbody></table>';

					$('#fileListBody').html(table);
					markCompletedRows();
										
			  },
			  error: function() {
				$('#fileListBody').html('<div align="center"><p class="text-bg-danger small" style="width:60%;border-radius: 18px;text-align: center">Error fetching files from GitHub repository.</p></div>');
			  }
			 			  
			});


						function getRootFolder(filePath) {
							var segments = filePath.split('/');
							var index = segments.indexOf('Unicode');

							if (index !== -1 && segments.length > index + 1) {
								return segments[index + 1];
							}

							return null;
						}
						
						function getSpellFolder(filePath) {
							var segments = filePath.split('/');
							var index = segments.indexOf('Unicode');

							if (index !== -1 && segments.length > index + 1) {
								return segments[index - 1];
							}

							return null;
						}
						
						function getFileNameWithoutExtension(filePath) {
							var fileName = filePath.split('/').pop();
							return fileName.substring(0, fileName.lastIndexOf('.'));
						}
								
});
</script>
	
<footer id="footer" class="page-footer dark"></footer>

</div>

<script>
const pag = '#nsources';
$(document).ready(function () {
$('#nav-bar').load('nav.html');
$('#footer').load('footer.html');	
});

$('#btn-toggle').on('click', function(){

	var tog = $('#tb-table');
	if(tog.hasClass('in'))
	{
		$('#hicon').html('<svg class="bi bi-plus-square" xmlns="http://www.w3.org/2000/svg" height="1.5em" fill="currentColor" viewBox="0 0 16 16"><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"></path></svg>');
	}
	else{
		$('#hicon').html('<svg class="bi bi-x-square" xmlns="http://www.w3.org/2000/svg" height="1.5em" fill="currentColor" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg>');
		
	}

});

$(document).ready(function() {
    // Array of ID numbers
    const idArray = [134391, 104, 106]; // Example IDs that are in the array

    // Function to check IDs and mark the rows
    function checkIds() {
        $('#dataTable tr').each(function() {
            const rowId = parseInt($(this).data('id'));
            if (idArray.includes(rowId)) {
                // Append a marking (for example, a checkmark) in the Status column
                $(this).find('td:last').append('<span class="badge badge-success">✔️</span>');
            }
        });
    }

    // Automatically check IDs on page load
    checkIds();
});

</script>
<script>
$(document).ready(function() {
	
	$(".closeModal").click(function() {
		 $('#TbPmodalBody').empty().html('<div align="center"><img src="assets/img/loading.gif"></div>');;
		 $('#TbPmodalLabel').text('');
		 history.pushState("", document.title, window.location.pathname);
	});
	
   $(document).on('click', '.toggler', function() {
        // Encuentra la fila actual
        var fila = $(this).closest("tr");
		var idx = $(this).closest("tr").attr("id");
		var ids = idx.split('-'); var tbid = ids[ids.length - 1];

		$('#TbPmodalLabel').text('TM '+ tbid+ ' Info');
        $('#TbPmodalBody').load('tbpdb.html'); 
	
		var currentUrl = window.location.href;
		var url = new URL(currentUrl);
		url.searchParams.set('tm', tbid);
		history.pushState(null, '', url);
			
    }); 
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.11.1/baguetteBox.min.js"></script><script src="assets/js/script.min.js"></script><script src="assets/bootstrap/js/bootstrap-collapse.js"></script>
</body></html>